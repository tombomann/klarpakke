# ğŸš€ KLARPAKKE QUICK DEPLOY - Oracle Serial Console\n\n**Status**: âœ… Fully Automated | **Time**: 20-25 minutes | **Date**: 2026-01-20\n\n---\n\n## âš¡ 1-MINUTE SETUP\n\n### Step 1: Open Oracle Serial Console\n\n1. Go to: https://cloud.oracle.com\n2. Sign in â†’ Region: **Stockholm (eu-stockholm-1)**\n3. **Compute â†’ Instances â†’ klarpakke-vm**\n4. Scroll down â†’ **\"Console Connections\"**\n5. Click **\"Launch Serial Console\"** (new browser tab opens)\n6. Wait for prompt: `opc@klarpakke-vm:~$`\n\n### Step 2: Run Deploy Script\n\nCopy and paste THIS ONE LINE into the terminal:\n\n```bash\ncurl -fsSL https://raw.githubusercontent.com/tombomann/klarpakke/main/scripts/oracle-deploy.sh | bash\n```\n\nThen press **ENTER** and wait 20-25 minutes.\n\n---\n\n## â±ï¸ What Happens\n\n| Phase | Time | What's Running |\n|-------|------|----------------|\n| 1-2 | 5 min | System update + Node.js 20 + databases |\n| 3-5 | 10 min | Git clone + npm install |\n| 6-7 | 3 min | Environment + health check test |\n| 8-9 | 2 min | PM2 + firewall |\n| **Total** | **20-25 min** | **âœ… Backend LIVE on port 3000** |\n\n---\n\n## âœ… When Deployment Completes\n\nYou'll see:\n\n```\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nâœ… DEPLOYMENT COMPLETE - [timestamp]\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nğŸ“Š PM2 Status:\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ id      â”‚ name   â”‚ status â”‚ cpu  mem  â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ 0       â”‚ klarpâ€¦ â”‚ online â”‚ 0% 1.2%   â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\nğŸ” Internal test:\n   curl http://localhost:3000/health\n\nğŸŒ External test (from your Mac):\n   curl http://79.76.63.189:3000/health\n```\n\n---\n\n## ğŸ§ª Verification (After Deploy)\n\n### From Terminal Inside VM:\n\n```bash\n# Check status\npm2 status\n\n# Watch logs (live)\npm2 logs klarpakke\n\n# Test internal endpoint\ncurl http://localhost:3000/health\n```\n\n**Expected response:**\n```json\n{\"status\":\"ok\",\"timestamp\":\"2026-01-20T09:30:00.000Z\",\"service\":\"klarpakke-backend\"}\n```\n\n### From Your Mac:\n\n```bash\n# Test external endpoint\ncurl http://79.76.63.189:3000/health\n```\n\n**Should show same JSON response.**\n\n---\n\n## ğŸ”§ If Something Fails\n\n### Check Logs\n```bash\npm2 logs klarpakke --lines 50\n```\n\n### Restart\n```bash\npm2 restart klarpakke\npm2 logs klarpakke\n```\n\n### Debug Database\n```bash\npsql -U klarpakke -h localhost -d klarpakke -c \"SELECT version();\"\n```\n\n### Check Port\n```bash\nsudo netstat -tulpn | grep 3000\n```\n\n---\n\n## ğŸ“‹ What Gets Installed\n\n- **Node.js 20** (LTS)\n- **npm 10+** (latest)\n- **PostgreSQL 15** (database)\n- **Redis 7** (cache)\n- **PM2** (process manager)\n- **Git + Build tools** (development dependencies)\n- **Klarpakke Backend** (from GitHub)\n\n---\n\n## ğŸš€ Next Steps (After Backend LIVE)\n\n1. **Bubble.io Connection** â†’ Setup API connector to `http://79.76.63.189:3000`\n2. **Perplexity Integration** â†’ Test signal generation\n3. **Paper Trading** â†’ 2-hour validation run\n4. **Testing Report** â†’ Document results\n5. **Production Ready** â†’ You're LIVE!\n\n---\n\n## ğŸ“ Troubleshooting\n\n| Problem | Solution |\n|---------|----------|\n| Script fails halfway | Run again: `curl ... | bash` (idempotent) |\n| \"Connection refused\" | Wait 30s, PM2 might still be starting |\n| Health check timeout | Check: `npm run dev` and logs manually |\n| Port 3000 not open | Verify Security List in Oracle Console |\n| Database error | Verify PostgreSQL: `sudo systemctl status postgresql` |\n\n---\n\n## ğŸ’¾ Script Details\n\n**Location**: `scripts/oracle-deploy.sh`  \n**Language**: Bash (Oracle Linux 9)  \n**Size**: ~6.5 KB  \n**Idempotent**: Yes (safe to run multiple times)  \n**Privileges**: Requires `sudo` (automatic)  \n**Dependencies**: curl, git (pre-installed on Oracle Linux)  \n\n---\n\n## ğŸ¯ Success Criteria\n\nâœ… PM2 shows `klarpakke | online`  \nâœ… `curl http://localhost:3000/health` returns JSON  \nâœ… `curl http://79.76.63.189:3000/health` returns JSON from Mac  \nâœ… `pm2 logs klarpakke` shows no critical errors  \n\n---\n\n**You're 20 minutes away from a running Klarpakke backend! ğŸš€**\n"